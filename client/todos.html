<head>
  <title>Todos</title>
</head>

<body>
  <div id="themis-header" class="meta-section">
    <img src="themis-logo.png" id="themis-logo" />
    <span id="themis-name">&nbsp;THEMIS</span>
  </div>
  <div id="main-pane" class="meta-section">
    {{> rowCreator }}
  </div>
  <div id="themis-footer" class="meta-section">(Under Construction)</div>
</body>



<template name="rowCreator">
    {{#if loading}}
        <div id="lists">Loading...</div>
    {{else}}
        <div id="top-row">
            {{#each all_panels.top }}
                <div class="indiv-list" data-list-slug="{{ this }}" data-list-type="{{ topRowProps.type }}">
                    {{> top_indiv_list }}
                </div>
            {{/each }}
        </div>

        <div id="mid-row">
            {{#each all_panels.middle }}
                <div class="indiv-list" data-list-slug="{{ this }}" data-list-type="{{ midRowProps.type }}">
                    {{> mid_indiv_list }}
                </div>
            {{/each }}
        </div>

        <div id="bot-row">
            {{#each all_panels.bottom}}
                <div class="indiv-list" data-list-slug="{{ this }}" data-list-type="{{ botRowProps.type }}">
                    {{> bot_indiv_list }}
                </div>
            {{/each}}

            <div id="createList" class="indiv-list">
                <input type="text" id="new-list" placeholder="New list" />
            </div>
        </div>
    {{/if}}
</template>




<template name="top_indiv_list">
    <div class="todo-panel-title">{{ this_list.name }}</div>
    {{#if loading}}
      Loading...
    {{else}}
      <div id="new-todo-box">
        <input type="text" id="new-todo" placeholder="New item" />
      </div>
      <ul id="item-list">
        {{#each todos}}
          {{> todo_item}}
        {{/each}}
      </ul>
    {{/if}}
</template>

<template name="mid_indiv_list">
    <div class="todo-panel-title">{{ this_list.name }}</div>
    {{#if loading}}
      Loading...
    {{else}}
      <div id="new-todo-box">
        <input type="text" id="new-todo" placeholder="New item" />
      </div>
      <ul id="item-list">
        {{#each todos}}
          {{> todo_item}}
        {{/each}}
      </ul>
    {{/if}}
</template>

<template name="bot_indiv_list">
    <div class="todo-panel-title">{{ this_list.name }}</div>
    {{#if loading}}
      Loading...
    {{else}}
      <div id="new-todo-box">
        <input type="text" id="new-todo" placeholder="New item" />
      </div>
      <ul id="item-list">
        {{#each todos}}
          {{> todo_item}}
        {{/each}}
      </ul>
    {{/if}}
</template>




<template name="todo_item">
  <li class="todo {{done_class}}">
    {{#if editing}}
      <div class="edit">
        <input id="todo-input" type="text" value="{{text}}" />
      </div>
    {{else}}
      <div class="display">
        <input class="check" name="markdone" type="checkbox" checked={{ isDone }} />
        <div class="todo-text">{{text}}</div>
      </div>
      <div class="destroy"></div>
    {{/if}}
  </li>
</template>
